# Конфигурация синхронизации файлов

# Базовые директории (можно переопределить через переменные окружения)
baseDirs:
  dir1: ${BASE_DIR_1}
  dir2: ${BASE_DIR_2}
  dir3: ${BASE_DIR_3}
  dir4: ${BASE_DIR_1}/../dir4
  dir5: ${BASE_DIR_1}/../dir5
  dir_obsidian_carl: ${BASE_DIR_OBSIDIAN_CARL}
  dir_work_sql_kb: ${BASE_DIR_WORK_CARL}
  dir_obsidian_erw_work: C:/ERV/sync_data/erv_work
  dir_work_projects: C:/ERV/projects-ex

# Настройки chokidar
watchOptions:
  # Игнорировать скрытые файлы и директории
  ignored: 
    - "**/.git/**"
    - "**/node_modules/**"
    - "**/.DS_Store"
  # Ждать завершения записи файла
  awaitWriteFinish:
    stabilityThreshold: ${STABILITY_THRESHOLD}
    pollInterval: ${POLL_INTERVAL}
  # Использовать режим опроса (полезно для сетевых дисков)
  usePolling: ${USE_POLLING}
  # Не генерировать события при запуске для существующих файлов
  ignoreInitial: true
  # Не завершать процесс пока активно наблюдение
  persistent: true

# Пары директорий для синхронизации
# path указывает на директорию относительно baseDir
syncDirs:
  - name: "Knowledge Base CARLпапоки"
    source:
      baseDir: dir_work_sql_kb
      path: "/" # Путь к исходной директории
    target:
      baseDir: dir_obsidian_carl
      path: "/" # Путь к целевой директории
    syncOptions:
      delete: true # Опция: удалять ли файлы в целевой папке, если их нет в исходной

  - name: "Knowledge Base Kosmos-panel"
    source:
      baseDir: dir_work_projects
      path: "/kosmos-panel/KB/" # Путь к исходной директории
    target:
      baseDir: dir_obsidian_erw_work
      path: "/Kosmos/kosmos-panel/KB/" # Путь к целевой директории
    syncOptions:
      delete: true # Опция: удалять ли файлы в целевой папке, если их нет в исходной
  - name: "Knowledge Base aian-model"
    source:
      baseDir: dir_work_projects
      path: "/aian-model/KB/" # Путь к исходной директории
    target:
      baseDir: dir_obsidian_erw_work
      path: "/Kosmos/aian-model/KB/" # Путь к целевой директории
    syncOptions:
      delete: true # Опция: удалять ли файлы в целевой папке, если их нет в исходной
  - name: "Knowledge Base erv-obsidian-agi"
    source:
      baseDir: dir_work_projects
      path: "/erv-obsidian-agi/KB/" # Путь к исходной директории
    target:
      baseDir: dir_obsidian_erw_work
      path: "/Kosmos/erv-obsidian-agi/KB/" # Путь к целевой директории
    syncOptions:
      delete: true # Опция: удалять ли файлы в целевой папке, если их нет в исходной
  - name: "Knowledge Base aian-vector"
    source:
      baseDir: dir_work_projects
      path: "/aian-vector/KB/" # Путь к исходной директории
    target:
      baseDir: dir_obsidian_erw_work
      path: "/Kosmos/aian-vector/KB/" # Путь к целевой директории
    syncOptions:
      delete: true # Опция: удалять ли файлы в целевой папке, если их нет в исходной

  - name: "Тест Синхронизация папок"
    source:
      baseDir: dir4
      path: "/" # Путь к исходной директории
    target:
      baseDir: dir5
      path: "/" # Путь к целевой директории
    syncOptions:
      delete: true # Опция: удалять ли файлы в целевой папке, если их нет в исходной

# Пары файлов для синхронизации
# Формат: каждая пара содержит source и target с указанием базовой директории и пути к файлу
syncPairs:

  - name: "Синхронизация 1" # Опциональное имя для логирования
    source:
      baseDir: dir1
      path: file1.md
    target:
      baseDir: dir2
      path: file12.md

  - name: "Синхронизация 2"
    source:
      baseDir: dir1
      path: file1.md
    target:
      baseDir: dir3
      path: file13.md

  - name: "Синхронизация 1" # Опциональное имя для логирования
    source:
      baseDir: dir1
      path: file1.md
    target:
      baseDir: dir2
      path: file12.md

  - name: "Синхронизация 3"
    source:
      baseDir: dir1
      path: file12.md
    target:
      baseDir: dir3
      path: file23.md
  
